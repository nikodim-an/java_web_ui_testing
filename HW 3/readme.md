# Домашняя работа №3

### Тест кейсы к проверкам, которые автоматизированны в этом ДЗ
Выдумывать нового ничего не стал и автоматизировал тест-кейсы из ДЗ №1. Привожу их здесь для справки:
<table border="0" cellspacing="0" cellpadding="0" class="Таблица1"><colgroup><col width="87"/><col width="157"/><col width="250"/><col width="248"/></colgroup><tr class="TableLine94158018766864"><td style="text-align:left;width:2cm; " class="Таблица1_A1"><p class="P12"><span class="T2"><strong>№</strong></span> <span class="T5">1</span></p></td><td colspan="3" style="text-align:left;width:3.604cm; " class="Таблица1_B1"><p class="P12"><span class="T2"><strong>Название:</strong></span> <span class="T6">Авторизация </span><span class="T7">сайте</span></p></td></tr><tr class="TableLine94158019009856"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P27"><strong>Метка :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица1_C2"><p class="P14">Позитивный <span class="T21">(positive)</span></p></td></tr><tr class="TableLine94158018955424"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P27"><strong>Уровень :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица1_C2"><p class="P19">Системное <span class="T19">тестирование</span></p></td></tr><tr class="TableLine94158019064064"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P27"><strong>Вид :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица1_C2"><p class="P9">Тестирование критического пути (critical path)</p></td></tr><tr class="TableLine94158019064720"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P28"><strong>Предусловия :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица1_C2"><p class="P22">В предыдущем сеансе осуществ<span class="T22">л</span>ен выход из личного кабинета, <span class="T23">в системе нет активного пользователя.</span></p></td></tr><tr class="Таблица16"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P25"><strong>Шаг</strong></p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P25"><strong>Тестовые данные</strong></p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P25"><strong>Ожидаемый результат</strong></p></td></tr><tr class="TableLine94158019066992"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P23">Перейти на сайт</p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P5"><a href="https://ribomaniya.ru/" class="Internet_20_link"><span class="T14">https://ribomaniya.ru</span></a></p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P23">Открыта главная страница сайта, авторизация не про<span class="T8">и</span>зведена.</p></td></tr><tr class="TableLine94158019067968"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P15">Нажать на кнопку «Войти»</p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P9"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P15">Откроется страница авторизации</p></td></tr><tr class="TableLine94158019069216"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P15">Ввести логин</p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P15">StendMerlin</p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P15">Логин введен в поле ввода</p></td></tr><tr class="TableLine94158019070112"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P15">Ввести пароль</p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P6">D2EA_7abd</p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P15">Пароль введен в поле ввода</p></td></tr><tr class="TableLine94158019071088"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P15">Нажать кнопку «Войти»</p></td><td style="text-align:left;width:5.729cm; " class="Таблица1_A2"><p class="P9"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица1_C2"><p class="P15">Произведен вход в личный кабинет сайта, вместо кнопки войти отображается имя пользователя «Александр»</p></td></tr><tr class="Таблица16"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица1_A2"><p class="P27"><strong>Комментарий :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица1_C2"><p class="P15"> </p></td></tr></table><p class="P1"> </p><table border="0" cellspacing="0" cellpadding="0" class="Таблица2"><colgroup><col width="87"/><col width="157"/><col width="250"/><col width="248"/></colgroup><tr class="TableLine94158018931200"><td style="text-align:left;width:2cm; " class="Таблица2_A1"><p class="P13"><span class="T2"><strong>№</strong></span> <span class="T5">2</span></p></td><td colspan="3" style="text-align:left;width:3.604cm; " class="Таблица2_B1"><p class="P13"><span class="T2"><strong>Название:</strong></span> <span class="T9">Авторизация на сайте (негативный сценарий)</span></p></td></tr><tr class="TableLine94158019103120"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P26"><strong>Метка :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица2_C2"><p class="P53">Негативный <span class="T20">(negative)</span></p></td></tr><tr class="TableLine94158019104224"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P26"><strong>Уровень :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица2_C2"><p class="P20">Системное <span class="T19">тестирование</span></p></td></tr><tr class="TableLine94158019104768"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P26"><strong>Вид :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица2_C2"><p class="P11">Тестирование критического пути (critical path)</p></td></tr><tr class="TableLine94158019105424"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P28"><strong>Предусловия :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица2_C2"><p class="P22">В предыдущем сеансе осуществ<span class="T22">л</span>ен выход из личного кабинета, <span class="T23">в системе нет активного пользователя.</span></p></td></tr><tr class="TableLine94158019106080"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P24"><strong>Шаг</strong></p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P24"><strong>Тестовые данные</strong></p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P24"><strong>Ожидаемый результат</strong></p></td></tr><tr class="TableLine94158019107536"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P30">Перейти на сайт</p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P5"><a href="https://ribomaniya.ru/" class="Internet_20_link"><span class="T14">https://ribomaniya.ru</span></a></p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P30">Открыта главная страница сайта, авторизация не про<span class="T8">и</span>зведена.</p></td></tr><tr class="TableLine94158019108432"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P31">Нажать на кнопку «Войти»</p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P29"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P31">Откр<span class="T11">ыта</span> страница авторизации</p></td></tr><tr class="TableLine94158019109680"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P31">Ввести логин</p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P31">StendMerlin</p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P31">Логин введен в поле ввода</p></td></tr><tr class="TableLine94158019110576"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P31">Ввести пароль</p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P4">любой невалидный</p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P31">Пароль введен в поле ввода</p></td></tr><tr class="TableLine94158019111552"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P31">Нажать кнопку «Войти»</p></td><td style="text-align:left;width:5.729cm; " class="Таблица2_A2"><p class="P29"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица2_C2"><p class="P52"><span class="T13">Вход не произведен, пользователь не указан, на странице авторизации появилась надпись «</span><span class="T1">Неверный логин или пароль</span><span class="T13">»</span></p></td></tr><tr class="TableLine94158019112528"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица2_A2"><p class="P26"><strong>Комментарий :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица2_C2"><p class="P16">Решил выполнить <span class="T10">негативную </span>проверку только при невалидном пароле, хотя по идее тут нужно еще пару тестов — ни невалидном логине и при невалидном логине и пароле.</p><p class="P17">Кроме того, для конечного исполнителя <span class="T15">(тестировщика для которого пишется тест кейс)</span> нужно чтобы он вводил свои логин и пароль.</p></td></tr></table><p class="P2"> </p><table border="0" cellspacing="0" cellpadding="0" class="Таблица3"><colgroup><col width="87"/><col width="157"/><col width="250"/><col width="248"/></colgroup><tr class="TableLine94158019075648"><td style="text-align:left;width:2cm; " class="Таблица3_A1"><p class="P13"><span class="T2"><strong><strong>№</strong></strong></span> <span class="T5">3</span></p></td><td colspan="3" style="text-align:left;width:3.604cm; " class="Таблица3_B1"><p class="P13"><span class="T2"><strong>Название:</strong></span> <span class="T12">Проверка правильности отображения номера телефона на главной странице</span></p></td></tr><tr class="TableLine94158018071792"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P26"><strong>Метка :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица3_C2"><p class="P21">Позитивный <span class="T21">(positive)</span></p></td></tr><tr class="TableLine94158018077536"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P26"><strong>Уровень :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица3_C2"><p class="P10"><span class="T18">Системное </span><span class="T19">тестирование</span></p></td></tr><tr class="TableLine94158018078080"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P26"><strong>Вид :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица3_C2"><p class="P11">Тестирование критического пути (critical path)</p></td></tr><tr class="TableLine94158018078736"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P28"><strong>Предусловия :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица3_C2"><p class="P22">В предыдущем сеансе осуществ<span class="T22">л</span>ен выход из личного кабинета, <span class="T23">в системе нет активного пользователя.</span></p></td></tr><tr class="TableLine94158018079392"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P24"><strong>Шаг</strong></p></td><td style="text-align:left;width:5.729cm; " class="Таблица3_A2"><p class="P24"><strong>Тестовые данные</strong></p></td><td style="text-align:left;width:5.667cm; " class="Таблица3_C2"><p class="P24"><strong>Ожидаемый результат</strong></p></td></tr><tr class="TableLine94158018080848"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P30">Перейти на сайт</p></td><td style="text-align:left;width:5.729cm; " class="Таблица3_A2"><p class="P5"><a href="https://ribomaniya.ru/" class="Internet_20_link"><span class="T14">https://ribomaniya.ru</span></a></p></td><td style="text-align:left;width:5.667cm; " class="Таблица3_C2"><p class="P30">Открыта главная страница сайта, авторизация не про<span class="T8">и</span>зведена.</p></td></tr><tr class="TableLine94158018081664"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P32">В шапке страницы найти label отображающий телефон</p></td><td style="text-align:left;width:5.729cm; " class="Таблица3_A2"><p class="P33">8 800 350-32-12</p></td><td style="text-align:left;width:5.667cm; " class="Таблица3_C2"><p class="P32">Указанный label присутствует, телефон отображается</p></td></tr><tr class="TableLine94158018082752"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица3_A2"><p class="P26"><strong>Комментарий :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица3_C2"><p class="P18">Здесь отдельным тестом нужно выполнить так же проверку правильности отображения номера телефона на странице контактов. <span class="T16">П</span><span class="T3">равильны</span><span class="T4">й</span><span class="T3"> телефон 8 800 350-32-12.</span></p></td></tr></table><p class="P3"> </p><table border="0" cellspacing="0" cellpadding="0" class="Таблица4"><colgroup><col width="87"/><col width="157"/><col width="250"/><col width="248"/></colgroup><tr class="TableLine94158019115232"><td style="text-align:left;width:2cm; " class="Таблица4_A1"><p class="P34"><span class="T2"><strong>№</strong></span> <span class="T5">4</span></p></td><td colspan="3" style="text-align:left;width:3.604cm; " class="Таблица4_B1"><p class="P34"><span class="T2"><strong>Название:</strong> </span>Выбор товара и добавление его в корзину, <span class="T25">удаление его из корзины как позиции</span></p></td></tr><tr class="TableLine94158018117584"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P40"><strong>Метка :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица4_C2"><p class="P35">Позитивный <span class="T21">(positive)</span></p></td></tr><tr class="TableLine94158018118688"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P40"><strong>Уровень :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица4_C2"><p class="P36">Системное <span class="T19">тестирование</span></p></td></tr><tr class="TableLine94158018119232"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P40"><strong>Вид :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица4_C2"><p class="P37">Тестирование критического пути (critical path)</p></td></tr><tr class="TableLine94158018119888"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P42"><strong>Предусловия :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица4_C2"><p class="P38">В предыдущем сеансе осуществ<span class="T22">л</span>ен выход из личного кабинета, <span class="T23">в системе нет активного пользователя.</span></p></td></tr><tr class="TableLine94158018120624"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P41"><strong>Шаг</strong></p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P41"><strong>Тестовые данные</strong></p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P41"><strong>Ожидаемый результат</strong></p></td></tr><tr class="TableLine94158018122368"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P43">Перейти на сайт</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P5"><a href="https://ribomaniya.ru/" class="Internet_20_link"><span class="T27">https://ribomaniya.ru</span></a></p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P43">Открыта главная страница сайта, авторизация не про<span class="T8">и</span>зведена.</p></td></tr><tr class="TableLine94158018123344"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P44">Перейти в раздел грузы/бомбарды</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P45"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P47">Открыт раздел с бомбардами</p></td></tr><tr class="TableLine94158018124592"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P47">Выбрать бомбарду</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P45">Бомбарда Spro Trout Master Ridge Sbiro</p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P47">Открыта страница товара</p></td></tr><tr class="TableLine94158018125488"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P48">Выбрать бомбарду из имеющихся на складе</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P49">Вес 12 гр</p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P48">Открыта страница модели товара</p></td></tr><tr class="TableLine94158018126464"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P47"><span class="T24">Н</span>ажать кнопку «В корзину»</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P49"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P50">Товар добавлен в корзину</p></td></tr><tr class="TableLine94158018127440"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P50">Перейти в корзину</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P45"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P50">Открыта корзина</p></td></tr><tr class="TableLine94158018128416"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P50">Проверить наличие добавленного товара <span class="T17">в корзине </span><span class="T26">по соответствию названия</span></p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P46">Trout Master Ridge Sbiro (12g Floating)</p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P50">Товар находится в перечне товаров к покупке.</p></td></tr><tr class="TableLine94158018124128"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P51">Удалить добавленную товарную позицию из корзины</p></td><td style="text-align:left;width:5.729cm; " class="Таблица4_A2"><p class="P45"> </p></td><td style="text-align:left;width:5.667cm; " class="Таблица4_C2"><p class="P51">Корзина пуста, суммарная стоимость корзины - 0 рублей.</p></td></tr><tr class="TableLine94158018130096"><td colspan="2" style="text-align:left;width:2cm; " class="Таблица4_A2"><p class="P40"><strong>Комментарий :</strong></p></td><td colspan="2" style="text-align:left;width:5.729cm; " class="Таблица4_C2"><p class="P39">Сложный тест объединяющий последовательно выполненные пользовательские сценарии: Выбор товара, его добавление в корзину, удаление товара из корзины. Работает только с указанным товаром, который является эталонным.</p></td></tr></table>

### Выполнение
Поскольку при поиске элементов страницы экран скроллируется недостаточно (элемент находится в самом низу окна, при этом
недостаточно «выглядывает» из-за других элементов страницы, расположенных уровнем выше), требуется дополнительное
скроллирвоание сраницы, чтобы элемент с которым в данный момент работает тест находился примерно посередине экрана.  
Кроме того, при проверке работы теста на слабой машине часто тест падает. Для того, чтобы этого избежать необходимо
явное безусловное ожидание длительностью не более 1 секунды, в качестве которого я применилкоманду 
`Thread.sleep(1000)` *(данный способ является откровенно плохим, поскольку удлинняет время работы теста, но с с ним 
приходится мириться, запуская тест медленных стендах)*.

Поскольку библиотека JUnit недоступна (по условию задания мы ее не можем использовать в основном коде), приходится 
пользоваться стандартной командой `assert` (толку от этого никакого, поскольку по умолчанию ассерты выключены и отрабатывают только при запуске с ключем «-ea», но использованные мной в коде, они указывают на места, где нужно делать проверку (ассертами в JUnit), или запустить программу так, чтобы ассерты отработали). Именно ей я и осуществляю «проверки», при непрохождении которых тест падает. 

Коментарии в коде.

### Выводы
На средних по производительности стендах (обычная офисная машина) тест отрабатывает хорошо и быстро. На слабых ПК иногда 
(особенно после скроллирования) происходит выбор совсем не тех элементов которые указаны в xpath локаторе. Я предполагаю,
что это связанно с тем, что в момент окончания скроллирования сохраняются координаты элементв для нажатия «виртуальной 
мышью», однако скроллирвоание при этом еще не окончилось. Решение - использование **явного безусловного ожидания** (задержки), 
перед выбором элемента. Ожидание с условием, на мой взгляд, сильно усложнит код, хотя и сделает его более быстрым.

В WebDriverManager оказался встроен логгер. Компонент привязки для него подключил. Настроил минимально…
